<div class="row-fluid">
  <div class="span12">

    <div class="page-header">
      <h1 id="title"><span property="ttn:title">{{ thing.title }}</span><small> by <span ng-repeat="author in thing.authors"><span ng-hide='$index==0'>,&nbsp;</span>{{ author.name }}</span></small></h1>
    </div>

    <div class="row-fluid">
      <div class="span4">

        <div id="lead-image-container" ngShow="thing.thumbnailUrls[0]">
            <img class='lead-image'  ng-src='{{ thing.thumbnailUrls[0] }}' />
        </div>

        <ul id='thumbnails' class='thumbnails'>
          <li ng-repeat="thumbnail in thing.thumbnailUrls">
              <img ng-hide='$index==0' data-lightbox="image-1" class='imgfile' ng-src='{{ thumbnail }}' />
          </li>
        </ul>

      </div>

      <div class="span8">

        <div id="description" ng-bind-html="thing.description | nl2br"></div>

        <div class="meta row-fluid">
          <div class="span6">
            <div id="tags">
              <i class="icon-tags" title="tags"></i>&nbsp;
                <span ng-repeat="tag in thing.tags" class="tag"><span class="label">{{ tag }}</span>&nbsp;</span>
            </div>
          </div>
          <div class="span6">
            <div id="licenses"><i class='icon-file' title="Licenses"></i>&nbsp;
                  <span ng-repeat="license in thing.licenses"><span ng-hide='$index==0'>, </span>{{ license }}</span>
            </div>
          </div>
        </div>

        <div class="meta row-fluid">
          <div class="span6">
            <div id="home"><i class='icon-home' title="Repository"></i>&nbsp;<a target="_blank" ng-show="thing.url" title="{{thing.url}}" href="{{thing.url}}">{{thing.url|stripUrlProtocol|truncate:28:"&hellip;"}}</a></div>
          </div>

          <div class="span6">
            <div id="authors"><i class='icon-user' title="Authors"></i>&nbsp;
                  <span ng-repeat="author in thing.authors"><span ng-hide='$index==0'>, </span>{{ author.name }}</span>
            </div>
          </div>

        </div>

        <div class="meta row-fluid">
          <div class="span6">
              <div id="version">
                <i class='icon-calendar' title="Version"></i>&nbsp;Version:
                <span ng-show="thing.version">{{ thing.version }}</span>
                <span ng-hide="thing.version">Unknown</span>
              </div>
          </div>

          <div class="span6">
              <div id="download">
                <i class='icon-download' title="Download"></i>&nbsp;<a ng-show="thing.downloadUrl" href="{{thing.downloadUrl}}">Download</a>
                <span ng-hide="thing.downloadUrl">No Download Available</span>
              </div>
          </div>
        </div>

        <div class="meta row-fluid">
          <div class="span6">
            <div id="created"><i class='icon-play-circle' title="Created"></i>&nbsp;Created:
              <time ng-show="thing.created" relative datetime="{{ thing.created }}"></time>
              <span ng-hide="thing.created">Unknown</span>
            </div>
          </div>
          <div class="span6">
            <div id="updated"><i class='icon-refresh' title="Updated"></i>&nbsp;Updated:
              <time ng-show="thing.updated" relative datetime="{{ thing.updated }}"></time>
              <span ng-hide="thing.created">Unknown</span>
            </div>
          </div>
        </div>

        <div class="lists row-fluid">
          <tabset>

            <tab heading="BOM" ng-show="thing.billOfMaterials">
              <div class="list-item row-fluid" ng-repeat="item in thing.billOfMaterials | orderBy:'partNumber'">
                <div class="span2">
                  <small class="pull-left">{{ item.partNumber }}</small>
                  <img ng-show="item.thumbnailUrl" class="media-object" width="40px" ng-src="{{ item.thumbnailUrl }}">
                </div>
                <div class="span1">
                  <div popover="{{ item.unit }}" popover-trigger="mouseenter">{{ item.quantity || 1 }}&nbsp;x</div>
                </div>
                <div class="span6">
                  <div class="media">
                    {{item.description}}
                  </div>
                  <small ng-show="item.xBOMMetadata.note"><span class="label label-warning">Note:</span> {{ item.xBOMMetadata.note }}</small>
                </div>
                <div class="span3">
                  <span ng-show="item.url">
                    <a href="{{item.url}}">Link</a>
                  </span>
                </div>
              </div>
            </tab>

            <tab heading="Instructions" ng-show="thing.instructions">
              <div class="list-item row-fluid" ng-repeat="instruction in thing.instructions | orderBy:'step'">
                  <div class="span1">
                    <small>{{instruction.step}}</small>
                  </div>
                  <div class="span10">
                    {{instruction.text}}
                    <br>
                    <span ng-repeat="image in instruction.images">
                      <img width="30px" ng-src="{{ image }}">
                    </span>
                    <br>
                    <small ng-show="instruction.xInstructionMetadata.note"><span class="label label-warning">Note:</span> {{instruction.xInstructionMetadata.note}}</small>
                  </div>
              </div>
            </tab>

            <tab heading="Relationships" ng-show="thing.relationships">
              <ul class="list-item" ng-repeat="relationship in thing.relationships">
                <li><a href="{{relationship.url}}">{{ relationship.url}}</a></li>
              </ul>
            </tab>

          </tabset>
        </div>
      </div>
    </div>

  </div>
</div>